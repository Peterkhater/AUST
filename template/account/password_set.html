{% extends "account/base.html" %}
{% load i18n static allauth %}
{% load widget_tweaks %}

{% block head_title %}
    {% trans "Set Password" %}
{% endblock head_title %}

{% block extra_head %}
<style>
    /* Reuse your login styles here */
    .login-container { max-width: 400px; margin: 10px auto; }
    .login-card { background: white; border-radius: 16px; overflow: hidden; box-shadow: 0 10px 40px rgba(0,0,0,0.1); }
    .login-header {background: linear-gradient(120deg, rgba(20, 83, 45, 0.9) 0%, rgba(101, 163, 13, 0.8) 100%); color: white; padding: 30px; text-align: center; }
    .login-header h2 { font-family: 'Playfair Display', serif; font-weight: 600; margin-bottom: 10px; }
    .login-header p { opacity: 0.9; margin-bottom: 0; }
    .login-body { padding: 30px; }
    .form-label { font-weight: 500; margin-bottom: 8px; color: #2c2724; }
    .form-control { padding: 12px 16px; border-radius: 8px; border: 1px solid #d1d5db; transition: all 0.3s; width: 100%; margin-bottom: 15px; }
    .form-control:focus { border-color: white; box-shadow: 0 0 0 3px rgba(79,70,229,0.15); }
    .btn-login {background: linear-gradient(120deg, rgba(20, 83, 45, 0.9) 0%, rgba(101, 163, 13, 0.8) 100%); border: none; padding: 12px; font-weight: 600; border-radius: 8px; transition: all 0.3s; width: 100%; }
    .btn-login:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(79,70,229,0.25); }
    .login-footer { padding-top: 15px; font-size: 14px; color: #6c757d; text-align: center; }
    .login-footer a { text-decoration: none; font-weight: 500; }
</style>
{% endblock extra_head %}

{% block content %}
<div class="login-container">
    <div class="login-card">
        <div class="login-header">
            <h2>{% trans "Set Password" %}</h2>
            <p>{% trans "Choose a secure password for your account" %}</p>
        </div>

        <div class="login-body">
            {% url 'account_set_password' as action_url %}
            <form method="post" action="{{ action_url }}">
                {% csrf_token %}
                {{ redirect_field }}

                <!-- Password Fields -->
                {% for field in form %}
                    <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
                    {{ field|add_class:"form-control" }}
                    {% if field.errors %}
                        <div class="text-danger">{{ field.errors }}</div>
                    {% endif %}
                {% endfor %}

                <!-- Submit Button -->
                <button type="submit" class="btn btn-login mt-2">{% trans "Set Password" %}</button>
            </form>

            <div class="login-footer mt-3">
                <a href="{% url 'account_login' %}">{% trans "Back to Login" %}</a>
            </div>
        </div>
    </div>
</div>
{% endblock content %}
