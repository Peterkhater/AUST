{% extends "account/base.html" %}
{% load i18n allauth account %}
{% load widget_tweaks %}

{% block head_title %}
    {% trans "Password Reset" %}
{% endblock head_title %}

{% block extra_head %}
<style>
    /* Reuse login page styles */
    .login-container { max-width: 400px; margin: 20px auto; }
    .login-card { background: white; border-radius: 16px; overflow: hidden; box-shadow: 0 10px 40px rgba(0,0,0,0.1); }
    .login-header { background: linear-gradient(120deg, rgba(20, 83, 45, 0.9) 0%, rgba(101, 163, 13, 0.8) 100%); color: white; padding: 30px; text-align: center; }
    .login-header h2 { font-family: 'Playfair Display', serif; font-weight: 600; margin-bottom: 10px; }
    .login-header p { opacity: 0.9; margin-bottom: 0; }
    .login-body { padding: 30px; }
    .form-label { font-weight: 500; margin-bottom: 8px; color: #2c2724; }
    .form-control { padding: 12px 16px; border-radius: 8px; border: 1px solid #d1d5db; transition: all 0.3s; width: 100%; }
    .form-control:focus { border-color: white; box-shadow: 0 0 0 3px rgba(79,70,229,0.15); }
    .btn-login { background: linear-gradient(120deg, rgba(20, 83, 45, 0.9) 0%, rgba(101, 163, 13, 0.8) 100%); border: none; padding: 12px; font-weight: 600; border-radius: 8px; transition: all 0.3s; color: white; width: 100%; }
    .btn-login:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(79,70,229,0.25); }
    .login-footer { text-align: center; padding-top: 15px; font-size: 14px; color: #6c757d; }
    .login-footer a { text-decoration: none; font-weight: 500; color: white; }
    .login-footer a:hover { text-decoration: underline; }
    .text-danger { font-size: 14px; margin-top: 5px; }
</style>
{% endblock extra_head %}

{% block content %}
<div class="login-container">
    <div class="login-card">
        <div class="login-header">
            <h2>{% trans "Password Reset" %}</h2>
            <p>{% trans "Forgotten your password? Enter your email to receive reset instructions." %}</p>
        </div>

        <div class="login-body">

            {% if user.is_authenticated %}
                {% include "account/snippets/already_logged_in.html" %}
            {% endif %}

            {% url 'account_reset_password' as reset_url %}
            <form method="post" action="{{ reset_url }}">
                {% csrf_token %}
                <div class="mb-4">
                    <label for="{{ form.email.id_for_label }}" class="form-label">{% trans "Email Address" %}</label>
                    {{ form.email|add_class:"form-control" }}
                    {% if form.email.errors %}
                        <div class="text-danger">{{ form.email.errors }}</div>
                    {% endif %}
                </div>
                {{ redirect_field }}
                <div class="d-grid mb-4">
                    <button type="submit" class="btn-login">
                        {% trans "Reset My Password" %}
                    </button>
                </div>
            </form>

            <div class="login-footer">
                {% trans "Please contact us if you have any trouble resetting your password." %}
            </div>

        </div>
    </div>
</div>
{% endblock content %}
